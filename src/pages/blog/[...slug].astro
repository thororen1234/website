---
import { type CollectionEntry, getCollection } from 'astro:content'
import Layout from '../../layouts/Layout.astro'
import Box from '../../components/Base/Box.astro'
import Chip from '../../components/Base/Chip.astro'

export async function getStaticPaths() {
    const blogs = await getCollection('blog')
    return blogs.map((blog) => {
        return {
            params: {
                slug: blog.slug,
            },
            props: {
                entry: blog,
            },
        }
    })
}

export type Props = {
    entry: CollectionEntry<'blog'>
}

const { entry } = Astro.props

const { title, tags } = entry.data
---

<Layout>
    <Box>
        {title}
        {tags.map((tag) => <Chip>{tag}</Chip>)}
    </Box>
</Layout>
